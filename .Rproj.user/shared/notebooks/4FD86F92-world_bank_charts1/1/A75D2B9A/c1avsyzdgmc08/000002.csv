"0","missing.years<- c(1960:1994,2015:2016)"
"0","missing.years.columns<- paste0(""X"",missing.years)"
"0","valid.years<- c(1995:2014)"
"0","valid.years.columns<- paste0(""X"",valid.years)"
"0","df.per.capita<-df.per.capita %>% select(-one_of(missing.years.columns))"
"0","## drop the countries with missing data"
"0","df.per.capita<-df.per.capita %>% filter(!is.na(X1995))"
"0","df.per.capita <-df.per.capita %>% filter(grepl(""Low income|Lower middle income|Low & middle income|Middle income|Upper middle income|High income"",Country.Name))"
"0","str(df.per.capita)"
"1","'data.frame':	"
"1","6"
"1"," obs. of  "
"1","25"
"1"," variable"
"1","s"
"1",":"
"1","
"
"1"," "
"1","$ "
"1","Country.Name  "
"1",":"
"1"," chr  "
"1","""High income"" ""Low income"" ""Lower middle income"" ""Low & middle income"""
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","Country.Code  "
"1",":"
"1"," chr  "
"1","""HIC"" ""LIC"" ""LMC"" ""LMY"""
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","Indicator.Name"
"1",":"
"1"," chr  "
"1","""Health expenditure, public (% of total health expenditure)"" ""Health expenditure, public (% of total health expenditure)"" ""Health expenditure, public (% of total health expenditure)"" ""Health expenditure, public (% of total health expenditure)"""
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","Indicator.Code"
"1",":"
"1"," chr  "
"1","""SH.XPD.PUBL"" ""SH.XPD.PUBL"" ""SH.XPD.PUBL"" ""SH.XPD.PUBL"""
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X1995         "
"1",":"
"1"," num  "
"1","63.4 34.3 35.4 48.1 48.3"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X1996         "
"1",":"
"1"," num  "
"1","62.7 33.4 34.9 47.4 47.5"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X1997         "
"1",":"
"1"," num  "
"1","61.3 33.7 34 48.1 48.2"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X1998         "
"1",":"
"1"," num  "
"1","60.1 35.2 33.5 46.6 46.7"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X1999         "
"1",":"
"1"," num  "
"1","59.9 33.9 34.9 46.2 46.3"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2000         "
"1",":"
"1"," num  "
"1","59.2 35.2 34.7 45.1 45.3"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2001         "
"1",":"
"1"," num  "
"1","59.1 40.1 34.1 44.8 44.9"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2002         "
"1",":"
"1"," num  "
"1","58.8 38.8 33.5 44.8 44.9"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2003         "
"1",":"
"1"," num  "
"1","59.3 40.5 32.8 44.7 44.8"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2004         "
"1",":"
"1"," num  "
"1","60 40.7 33.9 45.9 46"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2005         "
"1",":"
"1"," num  "
"1","60 42.5 33.5 45.7 45.7"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2006         "
"1",":"
"1"," num  "
"1","60.4 43.8 34.7 46.9 46.9"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2007         "
"1",":"
"1"," num  "
"1","60.8 40.7 35.1 48.8 48.9"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2008         "
"1",":"
"1"," num  "
"1","61.9 41.6 35.6 49.7 49.8"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2009         "
"1",":"
"1"," num  "
"1","62.5 40.4 35.5 50.8 50.9"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2010         "
"1",":"
"1"," num  "
"1","62.6 40.5 35.4 50.7 50.8"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2011         "
"1",":"
"1"," num  "
"1","62.8 41.6 35.4 51.3 51.4"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2012         "
"1",":"
"1"," num  "
"1","62.3 42.2 36.3 51.7 51.8"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2013         "
"1",":"
"1"," num  "
"1","62.3 41.5 36.5 51.7 51.8"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2014         "
"1",":"
"1"," num  "
"1","62.3 42.4 36.4 51.7 51.9"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X             "
"1",":"
"1"," logi  "
"1","NA NA NA NA NA NA"
"1","
"
"0","df.per.capita <- df.per.capita %>% select(one_of(c(""Country.Name"",valid.years.columns))) "
