"0","missing.years<- c(1960:1994,2015:2016)"
"0","missing.years.columns<- paste0(""X"",missing.years)"
"0","valid.years<- c(1995:2014)"
"0","valid.years.columns<- paste0(""X"",valid.years)"
"0","df.per.capita<-df.per.capita %>% select(-one_of(missing.years.columns))"
"0","## drop the countries with missing data"
"0","df.per.capita<-df.per.capita %>% filter(!is.na(X1995))"
"0","df.per.capita <-df.per.capita %>% filter(grepl(""Low income|Lower middle income|Low & middle income|Middle income|Upper middle income|High income"",Country.Name))"
"0","str(df.per.capita)"
"1","'data.frame':	"
"1","6"
"1"," obs. of  "
"1","25"
"1"," variable"
"1","s"
"1",":"
"1","
"
"1"," "
"1","$ "
"1","Country.Name  "
"1",":"
"1"," chr  "
"1","""High income"" ""Low income"" ""Lower middle income"" ""Low & middle income"""
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","Country.Code  "
"1",":"
"1"," chr  "
"1","""HIC"" ""LIC"" ""LMC"" ""LMY"""
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","Indicator.Name"
"1",":"
"1"," chr  "
"1","""Health expenditure per capita (current US$)"" ""Health expenditure per capita (current US$)"" ""Health expenditure per capita (current US$)"" ""Health expenditure per capita (current US$)"""
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","Indicator.Code"
"1",":"
"1"," chr  "
"1","""SH.XPD.PCAP"" ""SH.XPD.PCAP"" ""SH.XPD.PCAP"" ""SH.XPD.PCAP"""
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X1995         "
"1",":"
"1"," num  "
"1","2320.13 9.78 21.62 52.28 55.33"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X1996         "
"1",":"
"1"," num  "
"1","2344.5 10.5 23.9 58.2 61.7"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X1997         "
"1",":"
"1"," num  "
"1","2309.2 10.7 25.2 64 68"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X1998         "
"1",":"
"1"," num  "
"1","2358 11 24.5 61.8 65.6"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X1999         "
"1",":"
"1"," num  "
"1","2487.1 11.7 22.4 58.7 62.3"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2000         "
"1",":"
"1"," num  "
"1","2539.6 13.4 23.1 63.3 67.3"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2001         "
"1",":"
"1"," num  "
"1","2624.3 12 24 64.9 69.2"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2002         "
"1",":"
"1"," num  "
"1","2832.9 12.7 25 61.7 65.9"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2003         "
"1",":"
"1"," num  "
"1","3213.7 14.1 28.9 69.5 74.4"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2004         "
"1",":"
"1"," num  "
"1","3533.1 16.2 32.3 80.7 86.5"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2005         "
"1",":"
"1"," num  "
"1","3736.4 18.1 37.9 97.5 104.7"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2006         "
"1",":"
"1"," num  "
"1","3925.5 20.5 43.9 113.4 122"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2007         "
"1",":"
"1"," num  "
"1","4258.3 22.5 53.7 138.2 149.1"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2008         "
"1",":"
"1"," num  "
"1","4566.6 26.1 60.4 168.5 182.1"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2009         "
"1",":"
"1"," num  "
"1","4624.3 27.9 60.7 174.6 188.8"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2010         "
"1",":"
"1"," num  "
"1","4770.2 31.5 70.7 200.6 217.3"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2011         "
"1",":"
"1"," num  "
"1","5077.5 34 78.7 230.9 250.6"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2012         "
"1",":"
"1"," num  "
"1","5087.5 34.6 82.3 244.6 266.4"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2013         "
"1",":"
"1"," num  "
"1","5127.7 35.2 87.1 259.9 283.6"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X2014         "
"1",":"
"1"," num  "
"1","5251.2 36.7 90 265.6 290.2"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","X             "
"1",":"
"1"," logi  "
"1","NA NA NA NA NA NA"
"1","
"
"0","df.per.capita <- df.per.capita %>% select(one_of(c(""Country.Name"",valid.years.columns))) "
